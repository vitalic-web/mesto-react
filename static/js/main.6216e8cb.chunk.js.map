{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js","images/header__logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","style","backgroundImage","link","backgroundPosition","backgroundSize","onClick","name","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","aria-label","map","item","key","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","ImagePopup","visibility","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","required","pattern","minLength","maxLength","id","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlaceSubmit","nameRef","linkRef","api","options","this","_url","url","_method","method","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","body","JSON","stringify","place","cardID","inputValue","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getProfileInfo","getInitialCards","profileInfo","cardsInfo","catch","err","console","error","handleOverlayClose","evt","classList","contains","handleEscClose","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setProfileInfo","avatarLink","editAvatar","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.6216e8cb.chunk.js","sourcesContent":["import React from 'react';\r\nimport headerLogo from '../images/header__logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"лого\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, {useContext} from 'react';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\n/**\r\n * Компонент создания карточки\r\n * @param card - объект с данными карточки\r\n * @param onCardClick - параметр для передачи данных карточки в компонент ImagePopup\r\n * @param onCardLike - функция постановки лайка\r\n * @param onCardDelete - функция удаления карточки\r\n * @returns {JSX.Element} - возвращает разметку карточки\r\n * @constructor\r\n */\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id; // проверка карточки: если моя, то возвращает true, если нет false\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id); // проверка лайка: если мой, то возвращает true, если нет false  \r\n\r\n  // функция для передачи параметров текущей карточки для открытия картинки в полный размер\r\n  function handleClick() {\r\n    onCardClick(card.name, card.link, true);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img className=\"element__image\"\r\n           src=\"#\"\r\n           alt=\"\"\r\n           style={{\r\n             backgroundImage: `url(${card.link})`,\r\n             backgroundPosition: \"center\",\r\n             backgroundSize: \"cover\"\r\n           }}\r\n           onClick={handleClick}\r\n      />\r\n      {/*element__delete_hidden добавляется если карточка не моя*/}\r\n      <button onClick={handleDeleteClick} className={`element__delete ${!isOwn && 'element__delete_hidden'}`} type=\"button\"/>\r\n      <div className=\"element__title\">\r\n        <h2 className=\"element__title-text\">{card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button onClick={handleLikeClick} className={`element__title-like ${isLiked && 'element__title-like_active'}`} type=\"button\"/>\r\n          <div className=\"element__like-amount\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React, {useContext} from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\n/**\r\n * Компонент раздела main\r\n * @param cards - массив с карточками\r\n * @param onCardLike - функция лайка карточки\r\n * @param onCardDelete - функция удаления карточки\r\n * @param onEditProfile - попап редактирования профиля\r\n * @param onAddPlace - попап добавления места\r\n * @param onEditAvatar - попап редактирования аватара\r\n * @param onCardClick - передача параметра в компонент Card\r\n * @returns {JSX.Element} - возврат разметки содержимого раздела main\r\n * @constructor\r\n */\r\n\r\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <img className=\"profile__avatar\"\r\n               src=\"\"\r\n               alt=\"\"\r\n               style={{\r\n                 backgroundImage: `url(${currentUser && currentUser.avatar})`, // отрисовка после получения объекта\r\n                 backgroundPosition: \"center\",\r\n                 backgroundSize: \"cover\"\r\n               }}\r\n          />\r\n          <div className=\"profile__avatar-editor\" onClick={onEditAvatar}></div>\r\n          <div className=\"profile__author\">\r\n            <div className=\"profile__title\">\r\n              <h1 className=\"profile__title-name\">{currentUser && currentUser.name}</h1>\r\n              <button className=\"profile__title-button\" type=\"button\" onClick={onEditProfile}/>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser && currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}/>\r\n      </section>\r\n\r\n      <section className=\"elements\" aria-label=\"Элементы\">\r\n        {cards.map(item =>\r\n          <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n        )}\r\n      </section>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">&copy; 2020 Mesto Russia</footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\n/**\r\n * Компонент создания окна попап\r\n * @param title - название окна попап\r\n * @param name - уникальная часть имени класса определенного типа попапа\r\n * @param children - уникальная разметка для каждого класса\r\n * @param isOpen - параметр для открытия попапа, меняется при клике на true\r\n * @param onClose - закрытие попапа по клику на крестик\r\n * @param onSubmit - функция обработки сабмита\r\n * @returns {JSX.Element} - возвращает разметку попапа\r\n * @constructor\r\n */\r\n\r\nfunction PopupWithForm({title, name, children, isOpen, onClose, onSubmit}) {\r\n\r\n  return (\r\n    <section className={`popup popup_${name} ${isOpen ? 'popup_active' : ''}`}>\r\n\r\n      <form className=\"popup__container\" onSubmit={onSubmit}>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n\r\n        {children}\r\n\r\n        <button className=\"popup__close-icon\" type=\"button\" onClick={onClose}/>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\n/**\r\n * Компонент открытия картинки в полную величину\r\n * @param card - параметры текущей карточки {name: '...', link: '...', visibility: true/false}\r\n * @param onClose - закрытие через крестик\r\n * @returns {JSX.Element} - возврат картинки в полную величину\r\n * @constructor\r\n */\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n\r\n  return (\r\n    <div className={`popup popup_open_photo ${card.visibility ? 'popup_active' : ''}`}>\r\n      <div className=\"popup-photo\">\r\n        <img className=\"popup-photo__image\"\r\n             src={card.link} alt=\"\"/>\r\n        <h2 className=\"popup-photo__text\">{card.name}</h2>\r\n        <button className=\"popup__close-icon\" type=\"button\" onClick={onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React, {useContext, useEffect, useState} from 'react';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n/**\r\n * Компонент попапа редактирования данных профиля\r\n * @param isOpen - стейт на открытие попапа\r\n * @param onClose - функция закрытия попапа\r\n * @param onUpdateUser - функция обработки сабмита\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function nameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function descriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser(name, description);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser])\r\n\r\n  return (\r\n    <PopupWithForm title=\"Редактировать профиль\"\r\n                   name=\"edit_profile\"\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <input name=\"name\" className=\"popup__input popup__input_filed_name\" type=\"text\" required\r\n             pattern=\"[А-ЯЁа-яёA-Za-z -]{1,}\" minLength=\"2\" maxLength=\"40\" id=\"name-input\" placeholder={\"Имя\"}\r\n             value={name} onChange={nameChange}/>\r\n      <span className=\"popup__input-error-message\" id=\"name-input-error\"/>\r\n\r\n      <input name=\"about\" className=\"popup__input popup__input_filed_prof\" type=\"text\" required\r\n             minLength=\"2\" maxLength=\"200\" id=\"prof-input\" placeholder={\"Занятие\"}\r\n             value={description} onChange={descriptionChange}/>\r\n      <span className=\"popup__input-error-message\" id=\"prof-input-error\"/>\r\n\r\n      <button className=\"popup__save-button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React, {useRef} from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n/**\r\n * Компонент попапа редактирования аватара\r\n * @param isOpen - стейт на открытие попапа\r\n * @param onClose - функция закрытия попапа\r\n * @param onUpdateAvatar - функция обработки сабмита\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Обновить аватар\"\r\n                   name=\"edit_avatar\"\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <input name=\"avatar\" className=\"popup__input popup__input_filed_avatar-link\" type=\"url\"\r\n             placeholder=\"Ссылка на аватар\" required id=\"avatar-input\" ref={avatarRef}/>\r\n      <span className=\"popup__input-error-message\" id=\"avatar-input-error\"/>\r\n      <button className=\"popup__save-button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, {useRef} from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n/**\r\n * Компонент попапа добавления карточки\r\n * @param isOpen - стейт на открытие попапа\r\n * @param onClose - функция закрытия попапа\r\n * @param onAddPlaceSubmit - функция обработки сабмита\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlaceSubmit}) {\r\n  const nameRef = useRef('');\r\n  const linkRef = useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlaceSubmit(nameRef.current.value, linkRef.current.value);\r\n\r\n    // очистка инпутов после загрузки карточки\r\n    nameRef.current.value = '';\r\n    linkRef.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Новое место\"\r\n                   name=\"add_photo\"\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <input name=\"place\" className=\"popup__input popup__input_filed_name\" type=\"text\" placeholder=\"Название\"\r\n             required minLength=\"1\" maxLength=\"30\" id=\"place-input\" ref={nameRef}/>\r\n      <span className=\"popup__input-error-message\" id=\"place-input-error\"/>\r\n\r\n      <input name=\"link\" className=\"popup__input popup__input_filed_prof\" type=\"url\"\r\n             placeholder=\"Ссылка на картинку\" required id=\"link-input\" ref={linkRef}/>\r\n      <span className=\"popup__input-error-message\" id=\"link-input-error\"/>\r\n      <button className=\"popup__save-button\" type=\"submit\">Создать</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","/**\n * Класс для запросов к api, в нем создается один экземляр и экспортируется для дальнейшей работы\n */\n\nexport class Api {\n  constructor(options){\n    this._url = options.url;\n    this._method = options.method;\n    this._headers = options.headers;\n  };\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  };\n\n  getProfileInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: this._method,\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n  };\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: this._method,\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n  };\n\n  setProfileInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n    .then(this._handleResponse)\n  };\n\n  addCard(place, link) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: place,\n        link: link\n      })\n    })\n    .then(this._handleResponse)\n  };\n\n  deleteCard(card) {\n    return fetch(`${this._url}/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._handleResponse)\n  };\n\n  changeLikeCardStatus(cardID, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${cardID}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n        .then(this._handleResponse)\n    } else {\n      return fetch(`${this._url}/cards/likes/${cardID}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n        .then(this._handleResponse)\n    }\n  }\n\n  editAvatar(inputValue) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: inputValue\n      })\n    })\n    .then(this._handleResponse)\n  };\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  method: 'GET',\n  headers: {\n    authorization: '91300657-0053-4635-a6b2-461fc085116c',\n    'Content-Type': 'application/json'\n  }\n});\n\n","import React, {useState, useEffect} from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport {api} from '../utils/api.js';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\n/**\n * Основной компонент, установлены слушатели на закрытие крестиком/escape/overlay\n * @returns {JSX.Element} - возврат разметки всей старницы\n * @constructor\n */\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({name: '', link: '', visibility: false});\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getProfileInfo(), api.getInitialCards()])\n      .then(([profileInfo, cardsInfo]) => {\n        setCurrentUser(profileInfo);\n        setCards(cardsInfo);\n    })\n      .catch(err => console.error(err))\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n      .then(() => {\n        const newCards = cards.filter(item => item._id !== card._id);\n        setCards(newCards);\n      })\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(name, link, visibility) {\n    setSelectedCard({name, link, visibility});\n  }\n\n  // закрытие всех попапов\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard((selectedCard) => {\n      return {...selectedCard, visibility: false}; // возврат значения адреса/имени картинки для плавного закрытия\n    });\n  }\n\n  // обновление данных имени и рода занятий через попап редактирования профиля\n  function handleUpdateUser(name, description) {\n    api.setProfileInfo(name, description)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.error(err))\n  }\n\n  // обновление аватара через попап редактирования аватара\n  function handleUpdateAvatar(avatarLink) {\n    api.editAvatar(avatarLink)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleAddPlaceSubmit(place, link) {\n    api.addCard(place, link)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n        place = ''\n        link = '';\n      })\n  }\n\n  // закрытие попапов через escape и overlay\n  useEffect(() => {\n    function handleOverlayClose(evt) {\n      if (evt.target.classList.contains('popup_active')) {\n        closeAllPopups();\n      }\n    }\n\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', handleOverlayClose);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('click', handleOverlayClose);\n      document.removeEventListener('keydown', handleEscClose);\n    }\n  })\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n\n        <Header/>\n\n        <Main cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n        />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit}/>\n\n        <PopupWithForm title=\"Вы уверены?\"\n                       name=\"is_delete\"\n        >\n          <button className=\"popup__save-button popup__save-button_delete\" type=\"submit\">Да</button>\n        </PopupWithForm>\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n        <Footer/>\n\n      </div>\n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.855a8c98.svg\";"],"sourceRoot":""}